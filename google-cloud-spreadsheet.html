<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Google Cloud Learning Progress Tracker</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #4f46e5 0%, #06b6d4 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            margin: 0 0 10px 0;
            font-size: 2.5em;
            font-weight: 700;
        }
        
        .header p {
            margin: 0;
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .dashboard {
            padding: 30px;
            background: #f8fafc;
            border-bottom: 1px solid #e2e8f0;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            text-align: center;
            border-left: 4px solid;
        }
        
        .stat-card.points { border-left-color: #10b981; }
        .stat-card.progress { border-left-color: #3b82f6; }
        .stat-card.time { border-left-color: #f59e0b; }
        .stat-card.total { border-left-color: #8b5cf6; }
        
        .stat-card h3 {
            margin: 0 0 10px 0;
            font-size: 2em;
            color: #1f2937;
        }
        
        .stat-card p {
            margin: 0;
            color: #6b7280;
            font-weight: 500;
        }
        
        .progress-bar {
            background: #e2e8f0;
            height: 20px;
            border-radius: 10px;
            overflow: hidden;
            margin: 20px 0;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #10b981, #3b82f6);
            width: 0%;
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-right: 10px;
            color: white;
            font-weight: bold;
        }
        
        .tabs {
            display: flex;
            background: #f1f5f9;
            border-bottom: 1px solid #e2e8f0;
        }
        
        .tab {
            padding: 15px 30px;
            background: transparent;
            border: none;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            color: #64748b;
            border-bottom: 3px solid transparent;
        }
        
        .tab:hover {
            background: #e2e8f0;
            color: #1e293b;
        }
        
        .tab.active {
            background: white;
            color: #4f46e5;
            border-bottom-color: #4f46e5;
        }
        
        .tab-content {
            display: none;
            padding: 30px;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 20px;
            align-items: center;
        }
        
        .controls input, .controls select {
            padding: 8px 12px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 14px;
        }
        
        .controls input:focus, .controls select:focus {
            outline: none;
            border-color: #4f46e5;
            box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
        }
        
        th {
            background: linear-gradient(135deg, #4f46e5, #06b6d4);
            color: white;
            padding: 15px 12px;
            text-align: left;
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
            position: relative;
        }
        
        th:hover {
            background: linear-gradient(135deg, #3730a3, #0891b2);
        }
        
        td {
            padding: 12px;
            border-bottom: 1px solid #f3f4f6;
            font-size: 13px;
            vertical-align: top;
        }
        
        tr:hover {
            background: #f8fafc;
        }
        
        tr:nth-child(even) {
            background: #fafafa;
        }
        
        tr:nth-child(even):hover {
            background: #f0f9ff;
        }
        
        .status-select {
            padding: 4px 8px;
            border: 1px solid #d1d5db;
            border-radius: 4px;
            font-size: 12px;
            background: white;
        }
        
        .status-belum { background: #fef2f2; color: #991b1b; border-color: #fca5a5; }
        .status-sedang { background: #fef3c7; color: #92400e; border-color: #fcd34d; }
        .status-selesai { background: #dcfce7; color: #166534; border-color: #86efac; }
        
        .priority-tinggi { background: #fee2e2; color: #991b1b; }
        .priority-sedang { background: #dbeafe; color: #1e40af; }
        .priority-rendah { background: #dcfce7; color: #166534; }
        
        .link-button {
            background: #4f46e5;
            color: white;
            text-decoration: none;
            padding: 6px 12px;
            border-radius: 4px;
            font-size: 12px;
            display: inline-block;
            transition: background 0.2s;
        }
        
        .link-button:hover {
            background: #3730a3;
        }
        
        input[type="date"], input[type="number"], textarea {
            width: 100%;
            padding: 4px 6px;
            border: 1px solid #d1d5db;
            border-radius: 4px;
            font-size: 12px;
            box-sizing: border-box;
        }
        
        input[type="number"] {
            text-align: center;
            width: 60px;
        }
        
        textarea {
            resize: vertical;
            min-height: 40px;
            font-family: inherit;
        }
        
        .category-badge {
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
        }
        
        .category-arcade { background: #fef3c7; color: #92400e; }
        .category-trivia { background: #dcfce7; color: #166534; }
        .category-skillbadge { background: #dbeafe; color: #1e40af; }
        
        .summary-box {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        
        @media (max-width: 768px) {
            .container {
                margin: 10px;
                border-radius: 10px;
            }
            
            .header {
                padding: 20px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .dashboard {
                padding: 20px;
            }
            
            .stats-grid {
                grid-template-columns: 1fr 1fr;
                gap: 15px;
            }
            
            .tabs {
                overflow-x: auto;
            }
            
            .tab {
                white-space: nowrap;
                padding: 12px 20px;
            }
            
            .tab-content {
                padding: 20px;
            }
            
            .controls {
                flex-direction: column;
                align-items: stretch;
            }
            
            .controls input, .controls select {
                width: 100%;
                box-sizing: border-box;
            }
            
            table {
                font-size: 11px;
            }
            
            th, td {
                padding: 8px 6px;
            }
            
            input[type="number"] {
                width: 50px;
            }
        }
        
        .export-btn {
            background: #10b981;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            margin-left: auto;
        }
        
        .export-btn:hover {
            background: #059669;
        }
        
        .motivational-quote {
            text-align: center;
            font-style: italic;
            color: #6b7280;
            margin: 20px 0;
            font-size: 16px;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>🎯 Google Cloud Learning Tracker</h1>
            <p>Periode Belajar: 7 Agustus - 16 September 2025</p>
        </div>

        <!-- Dashboard -->
        <div class="dashboard">
            <div class="stats-grid">
                <div class="stat-card points">
                    <h3 id="totalPoints">0</h3>
                    <p>Total Poin</p>
                </div>
                <div class="stat-card progress">
                    <h3 id="completedTasks">0/0</h3>
                    <p>Tasks Selesai</p>
                </div>
                <div class="stat-card time">
                    <h3 id="daysLeft">40</h3>
                    <p>Hari Tersisa</p>
                </div>
                <div class="stat-card total">
                    <h3 id="totalTime">0</h3>
                    <p>Jam Belajar</p>
                </div>
            </div>
            
            <div class="progress-bar">
                <div class="progress-fill" id="progressBar">0%</div>
            </div>
            
            <div class="motivational-quote">
                "Setiap expert pernah menjadi pemula. Setiap pro pernah menjadi amateur. Setiap ikon pernah menjadi yang tidak dikenal." 💪
            </div>
        </div>

        <!-- Tabs -->
        <div class="tabs">
            <button id="dashboard-tab" class="tab active" onclick="showTab('dashboard', event)">📊 Dashboard</button>
            <button id="arcade-tab" class="tab" onclick="showTab('arcade', event)">🏆 Arcade Games</button>
            <button id="trivia-tab" class="tab" onclick="showTab('trivia', event)">🎯 Trivia Games</button>
            <button id="skillbadge-tab" class="tab" onclick="showTab('skillbadge', event)">⭐ Skill Badges</button>
            <button id="all-tab" class="tab" onclick="showTab('all', event)">📋 Semua Tasks</button>
        </div>

        <!-- Dashboard Tab Content -->
        <div id="dashboard" class="tab-content active">
            <div class="summary-box">
                <h2>📈 Ringkasan Progres per Kategori</h2>
                <div class="stats-grid">
                    <div class="stat-card">
                        <span class="category-badge category-arcade">Arcade</span>
                        <h3 id="arcadeProgress">0/0</h3>
                        <div class="progress-bar" style="height: 10px;">
                            <div class="progress-fill" id="arcadeProgressBar" style="font-size: 10px;">0%</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <span class="category-badge category-trivia">Trivia</span>
                        <h3 id="triviaProgress">0/0</h3>
                        <div class="progress-bar" style="height: 10px;">
                            <div class="progress-fill" id="triviaProgressBar" style="font-size: 10px;">0%</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <span class="category-badge category-skillbadge">Skill Badge</span>
                        <h3 id="skillbadgeProgress">0/0</h3>
                        <div class="progress-bar" style="height: 10px;">
                            <div class="progress-fill" id="skillbadgeProgressBar" style="font-size: 10px;">0%</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="summary-box">
                <h2>🎯 Target & Rekomendasi Harian</h2>
                <p><strong>Target Harian:</strong> Selesaikan 2-3 lab/hari untuk mencapai semua target tepat waktu.</p>
                <p><strong>Prioritas:</strong> Fokus pada Skill Badges terlebih dahulu karena memberikan poin lebih tinggi.</p>
                <p><strong>Distribusi Waktu:</strong> Alokasikan 2-3 jam belajar per hari secara konsisten.</p>
                <p><strong>Tips:</strong> Catat tantangan dan solusi di kolom Notes untuk pembelajaran yang lebih efektif.</p>
            </div>
        </div>

        <!-- Arcade Tab Content -->
        <div id="arcade" class="tab-content">
            <div class="controls">
                <input type="text" id="searchArcade" placeholder="🔍 Cari arcade games..." onkeyup="filterTable('arcade')">
                <select id="statusFilterArcade" onchange="filterTable('arcade')">
                    <option value="">Semua Status</option>
                    <option value="Belum dikerjakan">Belum dikerjakan</option>
                    <option value="Sedang">Sedang</option>
                    <option value="Selesai">Selesai</option>
                </select>
                <select id="priorityFilterArcade" onchange="filterTable('arcade')">
                    <option value="">Semua Prioritas</option>
                    <option value="Tinggi">Tinggi</option>
                    <option value="Sedang">Sedang</option>
                    <option value="Rendah">Rendah</option>
                </select>
                <button class="export-btn" onclick="exportToCSV('arcade')">📥 Export CSV</button>
            </div>
            <div style="overflow-x: auto;">
                <table id="arcadeTable">
                    <thead>
                        <tr>
                            <th onclick="sortTable('arcade', 0)">No</th>
                            <th onclick="sortTable('arcade', 1)">Nama Challenge</th>
                            <th onclick="sortTable('arcade', 2)">Lab Spesifik</th>
                            <th>Link</th>
                            <th onclick="sortTable('arcade', 4)">Status</th>
                            <th onclick="sortTable('arcade', 5)">Tanggal Mulai</th>
                            <th onclick="sortTable('arcade', 6)">Tanggal Selesai</th>
                            <th onclick="sortTable('arcade', 7)">Hari Belajar</th>
                            <th onclick="sortTable('arcade', 8)">Estimasi Waktu (menit)</th>
                            <th onclick="sortTable('arcade', 9)">Poin</th>
                            <th onclick="sortTable('arcade', 10)">Prioritas</th>
                            <th>Notes</th>
                        </tr>
                    </thead>
                    <tbody id="arcadeTableBody">
                        <!-- Data akan diisi oleh JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Trivia Tab Content -->
        <div id="trivia" class="tab-content">
            <div class="controls">
                <input type="text" id="searchTrivia" placeholder="🔍 Cari trivia games..." onkeyup="filterTable('trivia')">
                <select id="statusFilterTrivia" onchange="filterTable('trivia')">
                    <option value="">Semua Status</option>
                    <option value="Belum dikerjakan">Belum dikerjakan</option>
                    <option value="Sedang">Sedang</option>
                    <option value="Selesai">Selesai</option>
                </select>
                <button class="export-btn" onclick="exportToCSV('trivia')">📥 Export CSV</button>
            </div>
            <div style="overflow-x: auto;">
                <table id="triviaTable">
                    <thead>
                        <tr>
                            <th onclick="sortTable('trivia', 0)">No</th>
                            <th onclick="sortTable('trivia', 1)">Nama Challenge</th>
                            <th>Link</th>
                            <th onclick="sortTable('trivia', 3)">Status</th>
                            <th onclick="sortTable('trivia', 4)">Tanggal Mulai</th>
                            <th onclick="sortTable('trivia', 5)">Tanggal Selesai</th>
                            <th onclick="sortTable('trivia', 6)">Hari Belajar</th>
                            <th onclick="sortTable('trivia', 7)">Estimasi Waktu (menit)</th>
                            <th onclick="sortTable('trivia', 8)">Poin</th>
                            <th onclick="sortTable('trivia', 9)">Prioritas</th>
                            <th>Notes</th>
                        </tr>
                    </thead>
                    <tbody id="triviaTableBody">
                        <!-- Data akan diisi oleh JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Skill Badge Tab Content -->
        <div id="skillbadge" class="tab-content">
            <div class="controls">
                <input type="text" id="searchSkillbadge" placeholder="🔍 Cari skill badges..." onkeyup="filterTable('skillbadge')">
                <select id="statusFilterSkillbadge" onchange="filterTable('skillbadge')">
                    <option value="">Semua Status</option>
                    <option value="Belum dikerjakan">Belum dikerjakan</option>
                    <option value="Sedang">Sedang</option>
                    <option value="Selesai">Selesai</option>
                </select>
                <button class="export-btn" onclick="exportToCSV('skillbadge')">📥 Export CSV</button>
            </div>
            <div style="overflow-x: auto;">
                <table id="skillbadgeTable">
                    <thead>
                        <tr>
                            <th onclick="sortTable('skillbadge', 0)">No</th>
                            <th onclick="sortTable('skillbadge', 1)">Nama Challenge</th>
                            <th onclick="sortTable('skillbadge', 2)">Lab Spesifik</th>
                            <th>Link</th>
                            <th onclick="sortTable('skillbadge', 4)">Status</th>
                            <th onclick="sortTable('skillbadge', 5)">Tanggal Mulai</th>
                            <th onclick="sortTable('skillbadge', 6)">Tanggal Selesai</th>
                            <th onclick="sortTable('skillbadge', 7)">Hari Belajar</th>
                            <th onclick="sortTable('skillbadge', 8)">Estimasi Waktu (menit)</th>
                            <th onclick="sortTable('skillbadge', 9)">Poin</th>
                            <th onclick="sortTable('skillbadge', 10)">Prioritas</th>
                            <th>Notes</th>
                        </tr>
                    </thead>
                    <tbody id="skillbadgeTableBody">
                        <!-- Data akan diisi oleh JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- All Tasks Tab Content -->
        <div id="all" class="tab-content">
            <div class="controls">
                <input type="text" id="searchAll" placeholder="🔍 Cari semua tasks..." onkeyup="filterTable('all')">
                <select id="statusFilterAll" onchange="filterTable('all')">
                    <option value="">Semua Status</option>
                    <option value="Belum dikerjakan">Belum dikerjakan</option>
                    <option value="Sedang">Sedang</option>
                    <option value="Selesai">Selesai</option>
                </select>
                <select id="categoryFilterAll" onchange="filterTable('all')">
                    <option value="">Semua Kategori</option>
                    <option value="arcade">Arcade</option>
                    <option value="trivia">Trivia</option>
                    <option value="skillbadge">Skill Badge</option>
                </select>
                <button class="export-btn" onclick="exportToCSV('all')">📥 Export CSV</button>
            </div>
            <div style="overflow-x: auto;">
                <table id="allTable">
                    <thead>
                        <tr>
                            <th onclick="sortTable('all', 0)">No</th>
                            <th onclick="sortTable('all', 1)">Kategori</th>
                            <th onclick="sortTable('all', 2)">Nama Challenge</th>
                            <th onclick="sortTable('all', 3)">Lab Spesifik</th>
                            <th>Link</th>
                            <th onclick="sortTable('all', 5)">Status</th>
                            <th onclick="sortTable('all', 6)">Tanggal Mulai</th>
                            <th onclick="sortTable('all', 7)">Tanggal Selesai</th>
                            <th onclick="sortTable('all', 8)">Hari Belajar</th>
                            <th onclick="sortTable('all', 9)">Estimasi Waktu (menit)</th>
                            <th onclick="sortTable('all', 10)">Poin</th>
                            <th onclick="sortTable('all', 11)">Prioritas</th>
                            <th>Notes</th>
                        </tr>
                    </thead>
                    <tbody id="allTableBody">
                        <!-- Data akan diisi oleh JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <script>
        // Data struktur
        let data = {
            arcade: [
                {
                    id: 1,
                    name: 'Arcade Trivia Games Badge - Skills Boost Arcade Trivia August 2025 Week 1',
                    labs: [
                        { name: 'Conversational Agents, Managing Environments', status: 'Belum dikerjakan', startDate: '', endDate: '', points: 0, estimatedTime: 60, priority: 'Sedang', notes: '' }
                    ]
                },
                {
                    id: 2,
                    name: 'Arcade Trivia Games Badge - Skills Boost Arcade Trivia August 2025 Week 2',
                    labs: [
                        { name: 'Dataflow, Qwik Start', status: 'Belum dikerjakan', startDate: '', endDate: '', points: 0, estimatedTime: 60, priority: 'Sedang', notes: '' }
                    ]
                },
                {
                    id: 3,
                    name: 'Arcade Trivia Games Badge - Skills Boost Arcade Trivia August 2025 Week 3',
                    labs: [
                        { name: 'Cloud Load Balancing...', status: 'Belum dikerjakan', startDate: '', endDate: '', points: 0, estimatedTime: 60, priority: 'Sedang', notes: '' }
                    ]
                },
                {
                    id: 4,
                    name: 'Arcade Trivia Games Badge - Skills Boost Arcade Trivia August 2025 Week 4',
                    labs: [
                        { name: 'Create VPC Peering Connection between VPCs', status: 'Belum dikerjakan', startDate: '', endDate: '', points: 0, estimatedTime: 60, priority: 'Sedang', notes: '' }
                    ]
                },
                {
                    id: 5,
                    name: 'Arcade Games Badge - Level 1: Application Design and Delivery',
                    labs: [
                        { name: 'Getting Started with Vault', status: 'Belum dikerjakan', startDate: '', endDate: '', points: 0, estimatedTime: 60, priority: 'Tinggi', notes: '' },
                        { name: 'Interacting with Vault Policies', status: 'Belum dikerjakan', startDate: '', endDate: '', points: 0, estimatedTime: 60, priority: 'Tinggi', notes: '' },
                        { name: 'Creating Dynamic Secrets for Google Cloud with Vault', status: 'Belum dikerjakan', startDate: '', endDate: '', points: 0, estimatedTime: 60, priority: 'Tinggi', notes: '' },
                        { name: 'Cloud DNS: Traffic Steering...', status: 'Belum dikerjakan', startDate: '', endDate: '', points: 0, estimatedTime: 60, priority: 'Tinggi', notes: '' },
                        { name: 'Qwiklabs Qwik Start', status: 'Belum dikerjakan', startDate: '', endDate: '', points: 0, estimatedTime: 60, priority: 'Tinggi', notes: '' },
                        { name: 'Flutter Qwik Start', status: 'Belum dikerjakan', startDate: '', endDate: '', points: 0, estimatedTime: 60, priority: 'Tinggi', notes: '' },
                        { name: 'Implementing Page Navigation in a Flutter Application', status: 'Belum dikerjakan', startDate: '', endDate: '', points: 0, estimatedTime: 60, priority: 'Tinggi', notes: '' },
                        { name: 'Introduction to Dart', status: 'Belum dikerjakan', startDate: '', endDate: '', points: 0, estimatedTime: 60, priority: 'Tinggi', notes: '' },
                        { name: 'Validating Policies for Terraform on Google Cloud', status: 'Belum dikerjakan', startDate: '', endDate: '', points: 0, estimatedTime: 60, priority: 'Tinggi', notes: '' },
                        { name: 'Creating a Database with Supabase and Appsheet', status: 'Belum dikerjakan', startDate: '', endDate: '', points: 0, estimatedTime: 60, priority: 'Tinggi', notes: '' },
                        { name: 'Cloud Spoken Language API', status: 'Belum dikerjakan', startDate: '', endDate: '', points: 0, estimatedTime: 60, priority: 'Tinggi', notes: '' },
                        { name: 'Developing with Appscript', status: 'Belum dikerjakan', startDate: '', endDate: '', points: 0, estimatedTime: 60, priority: 'Tinggi', notes: '' }
                    ]
                },
                {
                    id: 6,
                    name: 'Arcade Games Badge - Level 2: Building with Cloud Tools',
                    labs: [
                        { name: 'Using Prometheus for Monitoring on Google Cloud: Qwik Start', status: 'Belum dikerjakan', startDate: '', endDate: '', points: 0, estimatedTime: 60, priority: 'Tinggi', notes: '' },
                        { name: 'Implement the User Experience for your AppSheet App', status: 'Belum dikerjakan', startDate: '', endDate: '', points: 0, estimatedTime: 60, priority: 'Tinggi', notes: '' },
                        { name: 'Process Documents with Python Using the Document AI API', status: 'Belum dikerjakan', startDate: '', endDate: '', points: 0, estimatedTime: 60, priority: 'Tinggi', notes: '' },
                        { name: 'Exploring SAP Data Foundation...', status: 'Belum dikerjakan', startDate: '', endDate: '', points: 0, estimatedTime: 60, priority: 'Tinggi', notes: '' },
                        { name: 'Running a Dedicated Ethereum RPC Node in Google Cloud', status: 'Belum dikerjakan', startDate: '', endDate: '', points: 0, estimatedTime: 60, priority: 'Tinggi', notes: '' },
                        { name: 'Getting Started with Security Command Center', status: 'Belum dikerjakan', startDate: '', endDate: '', points: 0, estimatedTime: 60, priority: 'Tinggi', notes: '' }
                    ]
                },
                {
                    id: 7,
                    name: 'Arcade Games Badge - Skills Boost Arcade Base Camp August 2025',
                    labs: [
                        { name: 'Optical Character Recognition (OCR) with Document AI (Python)', status: 'Belum dikerjakan', startDate: '', endDate: '', points: 0, estimatedTime: 60, priority: 'Tinggi', notes: '' },
                        { name: 'Form Parsing with Document AI (Python)', status: 'Belum dikerjakan', startDate: '', endDate: '', points: 0, estimatedTime: 60, priority: 'Tinggi', notes: '' },
                        { name: 'Setting up Jenkins on Kubernetes Engine', status: 'Belum dikerjakan', startDate: '', endDate: '', points: 0, estimatedTime: 60, priority: 'Tinggi', notes: '' },
                        { name: 'Deploying a Fault-Tolerant Microsoft Active Directory Environment', status: 'Belum dikerjakan', startDate: '', endDate: '', points: 0, estimatedTime: 60, priority: 'Tinggi', notes: '' },
                        { name: 'Autoscaling an instance group with Custom Cloud Monitoring metrics', status: 'Belum dikerjakan', startDate: '', endDate: '', points: 0, estimatedTime: 60, priority: 'Tinggi', notes: '' }
                    ]
                }
            ],
            trivia: [
                { id: 1, name: 'Trivia Game: What is Cloud Computing?', status: 'Belum dikerjakan', startDate: '', endDate: '', points: 0, estimatedTime: 30, priority: 'Rendah', notes: '' },
                { id: 2, name: 'Trivia Game: Google Cloud Infrastructure', status: 'Belum dikerjakan', startDate: '', endDate: '', points: 0, estimatedTime: 30, priority: 'Rendah', notes: '' },
                { id: 3, name: 'Trivia Game: Cloud Databases', status: 'Belum dikerjakan', startDate: '', endDate: '', points: 0, estimatedTime: 30, priority: 'Rendah', notes: '' },
                { id: 4, name: 'Trivia Game: Containers and Kubernetes', status: 'Belum dikerjakan', startDate: '', endDate: '', points: 0, estimatedTime: 30, priority: 'Rendah', notes: '' }
            ],
            skillbadge: [
                { id: 1, name: 'Google Cloud Skill Badge - The Basics of Google Cloud Compute', labs: [{ name: 'GCE: Qwik Start', status: 'Belum dikerjakan', startDate: '', endDate: '', points: 0, estimatedTime: 90, priority: 'Tinggi', notes: '' }] },
                { id: 2, name: 'Google Cloud Skill Badge - App Engine: 3 Ways', labs: [{ name: 'App Engine: Qwik Start', status: 'Belum dikerjakan', startDate: '', endDate: '', points: 0, estimatedTime: 90, priority: 'Tinggi', notes: '' }] },
                { id: 3, name: 'Google Cloud Skill Badge - Cloud Run Functions: 3 Ways', labs: [{ name: 'Cloud Run Functions: Qwik Start', status: 'Belum dikerjakan', startDate: '', endDate: '', points: 0, estimatedTime: 90, priority: 'Tinggi', notes: '' }] },
                { id: 4, name: 'Google Cloud Skill Badge - Get Started with Cloud Storage', labs: [{ name: 'Cloud Storage: Qwik Start', status: 'Belum dikerjakan', startDate: '', endDate: '', points: 0, estimatedTime: 90, priority: 'Tinggi', notes: '' }] },
                { id: 5, name: 'Google Cloud Skill Badge - Use APIs to Work with Cloud Storage', labs: [{ name: 'API and Cloud Storage', status: 'Belum dikerjakan', startDate: '', endDate: '', points: 0, estimatedTime: 90, priority: 'Tinggi', notes: '' }] },
                { id: 6, name: 'Google Cloud Skill Badge - Get Started with API Gateway', labs: [{ name: 'API Gateway: Qwik Start', status: 'Belum dikerjakan', startDate: '', endDate: '', points: 0, estimatedTime: 90, priority: 'Tinggi', notes: '' }] },
                { id: 7, name: 'Google Cloud Skill Badge - Monitor and Manage Google Cloud Resources', labs: [{ name: 'Monitor and Manage: Qwik Start', status: 'Belum dikerjakan', startDate: '', endDate: '', points: 0, estimatedTime: 90, priority: 'Tinggi', notes: '' }] },
                { id: 8, name: 'Google Cloud Skill Badge - Monitoring in Google Cloud', labs: [{ name: 'Monitoring: Qwik Start', status: 'Belum dikerjakan', startDate: '', endDate: '', points: 0, estimatedTime: 90, priority: 'Tinggi', notes: '' }] },
                { id: 9, name: 'Google Cloud Skill Badge - Monitoring and Log with Google Cloud Observability', labs: [{ name: 'Monitoring and Log: Qwik Start', status: 'Belum dikerjakan', startDate: '', endDate: '', points: 0, estimatedTime: 90, priority: 'Tinggi', notes: '' }] },
                { id: 10, name: 'Google Cloud Skill Badge - Networking Fundamentals on Google Cloud', labs: [{ name: 'Networking Fundamentals: Qwik Start', status: 'Belum dikerjakan', startDate: '', endDate: '', points: 0, estimatedTime: 90, priority: 'Tinggi', notes: '' }] },
                { id: 11, name: 'Google Cloud Skill Badge - Set Up a Google Cloud Network', labs: [{ name: 'Set Up Network: Qwik Start', status: 'Belum dikerjakan', startDate: '', endDate: '', points: 0, estimatedTime: 90, priority: 'Tinggi', notes: '' }] },
                { id: 12, name: 'Google Cloud Skill Badge - Implement Load Balancing on Compute Engine', labs: [{ name: 'Load Balancing: Qwik Start', status: 'Belum dikerjakan', startDate: '', endDate: '', points: 0, estimatedTime: 90, priority: 'Tinggi', notes: '' }] },
                { id: 13, name: 'Google Cloud Skill Badge - Set Up an App Dev Environment on Google Cloud', labs: [{ name: 'App Dev Env: Qwik Start', status: 'Belum dikerjakan', startDate: '', endDate: '', points: 0, estimatedTime: 90, priority: 'Tinggi', notes: '' }] },
                { id: 14, name: 'Google Cloud Skill Badge - Develop your Google Cloud Network', labs: [{ name: 'Develop Network: Qwik Start', status: 'Belum dikerjakan', startDate: '', endDate: '', points: 0, estimatedTime: 90, priority: 'Tinggi', notes: '' }] },
                { id: 15, name: 'Google Cloud Skill Badge - Build a secure Google Cloud Network', labs: [{ name: 'Secure Network: Qwik Start', status: 'Belum dikerjakan', startDate: '', endDate: '', points: 0, estimatedTime: 90, priority: 'Tinggi', notes: '' }] }
            ]
        };

        // Fungsi untuk menghitung hari dalam bahasa Indonesia
        function getDayName(dateString) {
            if (!dateString) return '';
            const days = ['Minggu', 'Senin', 'Selasa', 'Rabu', 'Kamis', 'Jumat', 'Sabtu'];
            const date = new Date(dateString);
            return days[date.getDay()];
        }

        // Fungsi untuk menghitung sisa hari
        function calculateDaysLeft() {
            const deadline = new Date('2025-09-16T23:59:59');
            const now = new Date();
            const timeDiff = deadline.getTime() - now.getTime();
            return Math.max(0, Math.ceil(timeDiff / (1000 * 3600 * 24)));
        }

        // Fungsi untuk memuat data ke tabel
        function loadTableData(category) {
            const tableBody = document.getElementById(category + 'TableBody');
            if (!tableBody) return;
            tableBody.innerHTML = '';
            
            let counter = 1;
            
            if (category === 'all') {
                // Load all data
                ['arcade', 'trivia', 'skillbadge'].forEach(cat => {
                    data[cat].forEach(item => {
                        if (item.labs) {
                            item.labs.forEach(lab => {
                                addTableRow(tableBody, counter++, cat, item.name, lab, true, 'https://go.cloudskillsboost.google/arcade?utm_source=qwiklabs&utm_medium=lp&utm_campaign=old-site');
                            });
                        } else {
                            addTableRow(tableBody, counter++, cat, item.name, item, true, 'https://go.cloudskillsboost.google/arcade?utm_source=qwiklabs&utm_medium=lp&utm_campaign=old-site');
                        }
                    });
                });
            } else {
                data[category].forEach(item => {
                    if (item.labs) {
                        item.labs.forEach(lab => {
                            addTableRow(tableBody, counter++, category, item.name, lab, false, 'https://go.cloudskillsboost.google/arcade?utm_source=qwiklabs&utm_medium=lp&utm_campaign=old-site');
                        });
                    } else {
                        addTableRow(tableBody, counter++, category, item.name, item, false, 'https://go.cloudskillsboost.google/arcade?utm_source=qwiklabs&utm_medium=lp&utm_campaign=old-site');
                    }
                });
            }
        }

        // Fungsi untuk menambahkan baris tabel
        function addTableRow(tableBody, counter, category, parentName, item, showCategory, link) {
            const row = tableBody.insertRow();
            let cellIndex = 0;
            
            // No
            row.insertCell(cellIndex++).innerHTML = counter;
            
            // Kategori (hanya untuk tab 'all')
            if (showCategory) {
                const categoryCell = row.insertCell(cellIndex++);
                categoryCell.innerHTML = `<span class="category-badge category-${category}">${category.toUpperCase()}</span>`;
            }
            
            // Nama Challenge
            row.insertCell(cellIndex++).innerHTML = `<div title="${parentName}">${parentName}</div>`;
            
            // Lab Spesifik (tidak ada untuk trivia)
            if (category !== 'trivia' && parentName) {
                row.insertCell(cellIndex++).innerHTML = `<div title="${item.name}">${item.name}</div>`;
            } else if (category !== 'trivia') {
                row.insertCell(cellIndex++).innerHTML = ''; // Placeholder for trivia
            }
            
            // Link
            row.insertCell(cellIndex++).innerHTML = `<a href="${link}" target="_blank" class="link-button">Buka Link</a>`;
            
            // Status
            const statusCell = row.insertCell(cellIndex++);
            statusCell.innerHTML = `
                <select class="status-select status-${(item.status || 'Belum dikerjakan').toLowerCase().replace(' ', '-')}" onchange="updateStatus(this, '${category}', ${item.id}, '${item.name}', '${parentName}')">
                    <option value="Belum dikerjakan" ${item.status === 'Belum dikerjakan' ? 'selected' : ''}>Belum dikerjakan</option>
                    <option value="Sedang" ${item.status === 'Sedang' ? 'selected' : ''}>Sedang</option>
                    <option value="Selesai" ${item.status === 'Selesai' ? 'selected' : ''}>Selesai</option>
                </select>
            `;
            
            // Tanggal Mulai
            row.insertCell(cellIndex++).innerHTML = `<input type="date" value="${item.startDate || ''}" onchange="updateItem(this.value, '${category}', ${item.id}, '${item.name}', '${parentName}', 'startDate')">`;
            
            // Tanggal Selesai
            row.insertCell(cellIndex++).innerHTML = `<input type="date" value="${item.endDate || ''}" onchange="updateItem(this.value, '${category}', ${item.id}, '${item.name}', '${parentName}', 'endDate')">`;
            
            // Hari Belajar
            row.insertCell(cellIndex++).innerHTML = getDayName(item.startDate);
            
            // Estimasi Waktu
            row.insertCell(cellIndex++).innerHTML = `<input type="number" value="${item.estimatedTime || 0}" onchange="updateItem(this.value, '${category}', ${item.id}, '${item.name}', '${parentName}', 'estimatedTime')">`;
            
            // Poin
            row.insertCell(cellIndex++).innerHTML = `<input type="number" value="${item.points || 0}" onchange="updateItem(this.value, '${category}', ${item.id}, '${item.name}', '${parentName}', 'points')">`;
            
            // Prioritas
            const priorityCell = row.insertCell(cellIndex++);
            priorityCell.innerHTML = `
                <select class="priority-${(item.priority || 'Sedang').toLowerCase()}" onchange="updateItem(this.value, '${category}', ${item.id}, '${item.name}', '${parentName}', 'priority')">
                    <option value="Tinggi" ${item.priority === 'Tinggi' ? 'selected' : ''}>Tinggi</option>
                    <option value="Sedang" ${item.priority === 'Sedang' ? 'selected' : ''}>Sedang</option>
                    <option value="Rendah" ${item.priority === 'Rendah' ? 'selected' : ''}>Rendah</option>
                </select>
            `;
            
            // Notes
            row.insertCell(cellIndex++).innerHTML = `<textarea placeholder="Tambahkan catatan..." onchange="updateItem(this.value, '${category}', ${item.id}, '${item.name}', '${parentName}', 'notes')">${item.notes || ''}</textarea>`;
        }
        
        // Fungsi untuk mengupdate data secara global
        function updateItem(value, category, itemId, itemName, parentName, field) {
            let itemToUpdate = null;
            if (['arcade', 'skillbadge'].includes(category)) {
                const parentItem = data[category].find(item => item.name === parentName);
                if (parentItem) {
                    itemToUpdate = parentItem.labs.find(lab => lab.name === itemName);
                }
            } else if (category === 'trivia') {
                itemToUpdate = data[category].find(item => item.name === parentName);
            }
        
            if (itemToUpdate) {
                if (field === 'estimatedTime' || field === 'points') {
                    itemToUpdate[field] = parseInt(value) || 0;
                } else {
                    itemToUpdate[field] = value;
                }
                
                // Panggil updateDashboard setelah update data
                updateDashboard();
                
                // Update tampilan tabel saat ini
                const activeTabName = document.querySelector('.tab.active').id.replace('-tab', '');
                filterTable(activeTabName);
            }
        }
        
        function updateStatus(select, category, itemId, itemName, parentName) {
            const newStatus = select.value;
            select.className = `status-select status-${newStatus.toLowerCase().replace(' ', '-')}`;
            
            // Dapatkan item yang akan diupdate
            let itemToUpdate = null;
            if (['arcade', 'skillbadge'].includes(category)) {
                const parentItem = data[category].find(item => item.name === parentName);
                if (parentItem) {
                    itemToUpdate = parentItem.labs.find(lab => lab.name === itemName);
                }
            } else if (category === 'trivia') {
                itemToUpdate = data[category].find(item => item.name === parentName);
            }
        
            if (itemToUpdate) {
                itemToUpdate.status = newStatus;
                
                // Auto-fill tanggal selesai jika status menjadi 'Selesai'
                if (newStatus === 'Selesai') {
                    const row = select.closest('tr');
                    const endDateInput = row.cells[row.cells.length - 7].querySelector('input[type="date"]');
                    if (!endDateInput.value) {
                        const today = new Date().toISOString().split('T')[0];
                        endDateInput.value = today;
                        itemToUpdate.endDate = today;
                    }
                } else if (newStatus === 'Belum dikerjakan') {
                    itemToUpdate.endDate = '';
                }
            }
        
            updateDashboard();
        }

        // Fungsi untuk menghitung dan update dashboard
        function updateDashboard() {
            let totalPoints = 0;
            let totalTasks = 0;
            let completedTasks = 0;
            let totalTime = 0;
            
            let arcadeTotal = 0, arcadeCompleted = 0;
            let triviaTotal = 0, triviaCompleted = 0;
            let skillbadgeTotal = 0, skillbadgeCompleted = 0;

            // Hitung dari semua kategori
            ['arcade', 'trivia', 'skillbadge'].forEach(category => {
                data[category].forEach(item => {
                    if (item.labs) {
                        item.labs.forEach(lab => {
                            totalTasks++;
                            totalTime += lab.estimatedTime || 0;
                            totalPoints += lab.points || 0;
                            
                            if (lab.status === 'Selesai') {
                                completedTasks++;
                            }
                            
                            // Count per category
                            if (category === 'arcade') {
                                arcadeTotal++;
                                if (lab.status === 'Selesai') arcadeCompleted++;
                            } else if (category === 'trivia') {
                                triviaTotal++;
                                if (lab.status === 'Selesai') triviaCompleted++;
                            } else if (category === 'skillbadge') {
                                skillbadgeTotal++;
                                if (lab.status === 'Selesai') skillbadgeCompleted++;
                            }
                        });
                    } else {
                        totalTasks++;
                        totalTime += item.estimatedTime || 0;
                        totalPoints += item.points || 0;
                        
                        if (item.status === 'Selesai') {
                            completedTasks++;
                        }
                        
                        // Count per category
                        if (category === 'arcade') {
                            arcadeTotal++;
                            if (item.status === 'Selesai') arcadeCompleted++;
                        } else if (category === 'trivia') {
                            triviaTotal++;
                            if (item.status === 'Selesai') triviaCompleted++;
                        } else if (category === 'skillbadge') {
                            skillbadgeTotal++;
                            if (item.status === 'Selesai') skillbadgeCompleted++;
                        }
                    }
                });
            });

            // Update dashboard elements
            document.getElementById('totalPoints').textContent = totalPoints;
            document.getElementById('completedTasks').textContent = `${completedTasks}/${totalTasks}`;
            document.getElementById('daysLeft').textContent = calculateDaysLeft();
            document.getElementById('totalTime').textContent = Math.round(totalTime / 60);

            // Update progress bar
            const progressPercent = totalTasks > 0 ? (completedTasks / totalTasks * 100) : 0;
            const progressBar = document.getElementById('progressBar');
            progressBar.style.width = progressPercent + '%';
            progressBar.textContent = `${Math.round(progressPercent)}%`;

            // Update category progress
            updateCategoryProgress('arcade', arcadeCompleted, arcadeTotal);
            updateCategoryProgress('trivia', triviaCompleted, triviaTotal);
            updateCategoryProgress('skillbadge', skillbadgeCompleted, skillbadgeTotal);
        }

        // Fungsi untuk update progress per kategori
        function updateCategoryProgress(category, completed, total) {
            const progressElement = document.getElementById(category + 'Progress');
            if (progressElement) progressElement.textContent = `${completed}/${total}`;
            const percent = total > 0 ? (completed / total * 100) : 0;
            const progressBar = document.getElementById(category + 'ProgressBar');
            if (progressBar) {
              progressBar.style.width = percent + '%';
              progressBar.textContent = `${Math.round(percent)}%`;
            }
        }

        // Fungsi untuk show/hide tabs
        function showTab(tabName, event) {
            // Hide all tab contents
            const tabContents = document.querySelectorAll('.tab-content');
            tabContents.forEach(content => content.classList.remove('active'));
            
            // Remove active class from all tabs
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => tab.classList.remove('active'));
            
            // Show selected tab content
            document.getElementById(tabName).classList.add('active');
            
            // Add active class to clicked tab, or a default one if no event
            if (event && event.target) {
                event.target.classList.add('active');
            } else {
                document.getElementById(tabName + '-tab').classList.add('active');
            }
            
            // Load table data if not dashboard
            if (tabName !== 'dashboard') {
                loadTableData(tabName);
            }
        }

        // Fungsi untuk filter tabel
        function filterTable(category) {
            const table = document.getElementById(category + 'Table');
            if (!table) return;

            const searchInput = document.getElementById('search' + category.charAt(0).toUpperCase() + category.slice(1));
            const statusFilter = document.getElementById('statusFilter' + category.charAt(0).toUpperCase() + category.slice(1));
            const priorityFilter = document.getElementById('priorityFilter' + category.charAt(0).toUpperCase() + category.slice(1));
            const categoryFilter = document.getElementById('categoryFilter' + category.charAt(0).toUpperCase() + category.slice(1));
            
            const searchTerm = searchInput ? searchInput.value.toLowerCase() : '';
            const statusValue = statusFilter ? statusFilter.value : '';
            const priorityValue = priorityFilter ? priorityFilter.value : '';
            const categoryValue = categoryFilter ? categoryFilter.value : '';

            const rows = table.querySelectorAll('tbody tr');
            
            rows.forEach(row => {
                const cells = row.cells;
                let showRow = true;
                
                // Search filter
                if (searchTerm) {
                    const textContent = row.textContent.toLowerCase();
                    if (!textContent.includes(searchTerm)) {
                        showRow = false;
                    }
                }
                
                // Status filter
                if (statusValue && showRow) {
                    const statusSelect = cells[category === 'all' ? 5 : (category === 'trivia' ? 3 : 4)].querySelector('select');
                    if (statusSelect && statusSelect.value !== statusValue) {
                        showRow = false;
                    }
                }
                
                // Priority filter
                if (priorityValue && showRow) {
                    const prioritySelect = cells[category === 'all' ? 11 : (category === 'trivia' ? 9 : 10)].querySelector('select');
                    if (prioritySelect && prioritySelect.value !== priorityValue) {
                        showRow = false;
                    }
                }
                
                // Category filter (only for 'all' tab)
                if (categoryValue && showRow && category === 'all') {
                    const categorySpan = cells[1].querySelector('.category-badge');
                    if (!categorySpan || !categorySpan.classList.contains('category-' + categoryValue)) {
                        showRow = false;
                    }
                }
                
                row.style.display = showRow ? '' : 'none';
            });
        }

        // Fungsi untuk sort tabel
        function sortTable(category, columnIndex) {
            const table = document.getElementById(category + 'Table');
            if (!table) return;
            const tbody = table.querySelector('tbody');
            const rows = Array.from(tbody.querySelectorAll('tr'));
            
            // Determine if we should sort ascending or descending
            const isAscending = table.dataset.sortOrder !== 'asc';
            table.dataset.sortOrder = isAscending ? 'asc' : 'desc';
            
            rows.sort((a, b) => {
                let aCell = a.cells[columnIndex];
                let bCell = b.cells[columnIndex];
                
                let aText = aCell.querySelector('input, select, textarea') ? aCell.querySelector('input, select, textarea').value : aCell.textContent.trim();
                let bText = bCell.querySelector('input, select, textarea') ? bCell.querySelector('input, select, textarea').value : bCell.textContent.trim();
                
                // Convert to number if it's a number column
                if (!isNaN(aText) && !isNaN(bText) && aText !== '' && bText !== '') {
                    const aNum = parseFloat(aText);
                    const bNum = parseFloat(bText);
                    return isAscending ? aNum - bNum : bNum - aNum;
                }
                
                // String comparison
                return isAscending ? aText.localeCompare(bText) : bText.localeCompare(aText);
            });
            
            // Re-append rows in sorted order
            rows.forEach(row => tbody.appendChild(row));
        }

        // Fungsi untuk export ke CSV
        function exportToCSV(category) {
            const table = document.getElementById(category + 'Table');
            if (!table) return;
            const rows = table.querySelectorAll('tr');
            let csv = '';
            
            rows.forEach(row => {
                const cells = row.querySelectorAll('th, td');
                const rowData = [];
                
                cells.forEach(cell => {
                    let cellText = cell.textContent.trim();
                    
                    // Handle input values
                    const input = cell.querySelector('input, select, textarea');
                    if (input) {
                        cellText = input.value;
                    }
                    
                    // Escape quotes and wrap in quotes if contains comma
                    if (cellText.includes(',') || cellText.includes('"')) {
                        cellText = '"' + cellText.replace(/"/g, '""') + '"';
                    }
                    
                    rowData.push(cellText);
                });
                
                csv += rowData.join(',') + '\n';
            });
            
            // Download CSV
            const blob = new Blob([csv], { type: 'text/csv' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `google-cloud-${category}-progress.csv`;
            a.click();
            window.URL.revokeObjectURL(url);
        }

        // Initialize aplikasi
        document.addEventListener('DOMContentLoaded', function() {
            updateDashboard();
            loadSavedData();
        });

        // Auto-save functionality (save to localStorage)
        setInterval(function() {
            // Extract data from tables and save to localStorage
            localStorage.setItem('googleCloudProgress', JSON.stringify(data));
        }, 30000); // Auto-save every 30 seconds

        // Load data from localStorage on page load
        function loadSavedData() {
            const saved = localStorage.getItem('googleCloudProgress');
            if (saved) {
                data = JSON.parse(saved);
            }
            updateDashboard();
            showTab('dashboard');
        }
        
    </script>
</body>
</html>
